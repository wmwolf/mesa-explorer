<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>MESA Explorer</title>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous" />
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css" integrity="sha384-b6lVK+yci+bfDmaY1u0zE8YYJt0TZxLEAFyYSLHId4xoVvsrQu3INevFKo+Xir8e" crossorigin="anonymous" />
	</head>

	<body onload="setup()">
		<div class="container-md">
			<div class="row">
				<div class="col-4">
					<h1>Files</h1>
					<div class="my-2">
						<label for="mesa-input" class="form-label" onchange="file_manager.load_file(this)">Input File (history or profile)</label>
						<input class="form-control form-control" id="mesa-input" type="file" multiple />
					</div>
					<div id="file-prompt" class="alert alert-primary" role="alert">
						<h4 class="alert-heading">No Files Imported</h4>
						<p class="fst-italic">No files imported yet. Use the file selector above to import history or profile files.</p>
						<p class="fst-italic">
							Note that you can use shift and control/command to select multiple files to import at once within the file selector.
						</p>
					</div>
					<div class="list-group" id="file-list"></div>
				</div>
				<div class="col-8">
					<h1>Visualization</h1>
					<div class="p2">
						<svg id="plot" width="100%" class="my-2 rounded border border-2"></svg>
					</div>
					<div id="basics" class="my-4">
						<h2>Basic Information</h2>
						<div class="border rounded px-3 pt-3 pb-1">
							<div class="row align-items-center" id="x-data">
								<div class="col-sm-4 col-md-12">
									<h3><var>x</var>-axis:</h3>
								</div>
								<div class="col-sm-8 col-md-6 mb-2">
									<div class="dropdown">
										<button id="x-label" class="btn btn-primary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">Select <var>x</var> quantity</button>

										<div class="dropdown-menu">
											<form>
												<div class="form-floating mb-2 mx-2">
													<input class="form-control" type="text" id="x-search" placeholder="Search" />
													<label for="x-search">Search</label>
												</div>
											</form>
											<hr class="dropdown-divider" />
											<div id="x-choices"></div>
										</div>
									</div>
								</div>
								<div class="col-md-6 mb-2">
									<div class="form-floating">
										<input type="text" class="form-control axis-label-field" id="x-axis-label" placeholder="<var>x</var>-axis label" />
										<label for="x-axis-label"><var>x</var>-axis label</label>
									</div>
								</div>
							</div>
							<div class="row" id="y-data">
								<div class="col-sm-4 col-md-12">
									<h3><var>y</var>-axis</h3>
								</div>
								<div class="col-sm-8 col-md-6 mb-2">
									<div class="dropdown">
										<button id="y-label" class="btn btn-primary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">Select <var>y</var> quantity</button>

										<div class="dropdown-menu" id="y-choices">
											<form>
												<div class="form-floating mb-2 mx-2">
													<input class="form-control" type="text" id="y-search" placeholder="Search" />
													<label for="y-search">Search</label>
												</div>
											</form>
											<hr class="dropdown-divider" />
											<div id="y-choices"></div>
										</div>
									</div>
								</div>
								<div class="col-md-6 mb-2">
									<div class="form-floating">
										<input type="text" class="form-control axis-label-field" id="y-axis-label" placeholder="<var>y</var>-axis label" />
										<label for="y-axis-label"><var>y</var>-axis label</label>
									</div>
								</div>
							</div>
							<div class="row" id="yOther-data">
								<div class="col-sm-4 col-md-12">
									<h3>Other <var>y</var>-axis</h3>
								</div>
								<div class="col-sm-8 col-md-6 mb-2">
									<div class="dropdown">
										<button id="yOther-label" class="btn btn-primary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">Select other <var>y</var> quantity</button>

										<div class="dropdown-menu" id="y-choices">
											<form>
												<div class="form-floating mb-2 mx-2">
													<input class="form-control" type="text" id="yOther-search" placeholder="Search" />
													<label for="yOther-search">Search</label>
												</div>
											</form>
											<hr class="dropdown-divider" />
											<div id="yOther-choices"></div>
										</div>
									</div>
								</div>
								<div class="col-md-6 mb-2">
									<div class="form-floating">
										<input type="text" class="form-control axis-label-field" id="yOther-axis-label" placeholder="Other <var>y</var>-axis label" />
										<label for="yOther-axis-label">Other <var>y</var>-axis label</label>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div id="x" class="my-4">
						<h2>Abscissa <small class="text-muted ">(<var>x</var>-axis)</small></h2>
						<div class="border rounded p-3">
							<div class="row">
								<div class="col">
									<h3>Data Transformations</h3>
								</div>
							</div>
							<form id="x-data-controls">
								<div class="row mb-3">
									<div class="col-md-6">
										<fieldset>
											<div class="form-check mb-2 data-rescale">
												<input class="form-check-input" type="radio" name="x-data-trans" id="x-data-trans-linear" data-axis="x" value="linear" checked />
												<label class="form-check-label" for="x-data-trans-linear"> Linear: <var>x</var> </label>
											</div>
											<div class="form-check mb-2 data-rescale">
												<input class="form-check-input" type="radio" name="x-data-trans" id="x-data-trans-log" data-axis="x" value="log" />
												<label class="form-check-label" for="x-data-trans-log">
													Take log: log<sub>10</sub>(<var>x</var>)
												</label>
											</div>
											<div class="form-check mb-2 data-rescale">
												<input class="form-check-input" type="radio" name="x-data-trans" id="x-data-trans-logabs" data-axis="x" value="logabs" />
												<label class="form-check-label" for="x-data-trans-logabs">
													Take log of |<var>x</var>|: log<sub>10</sub>(|<var>x</var>|)
												</label>
											</div>
											<div class="form-check mb-2 data-rescale">
												<input class="form-check-input" type="radio" name="x-data-trans" id="x-data-trans-exp" data-axis="x" value="exp" />
												<label class="form-check-label" for="x-data-trans-exp">
													Exponentiate: 10<sup><var>x</var></sup>
												</label>
											</div>
										</fieldset>
									</div>
									<div class="col-md-6">
										<div class="form-floating mb-2 data-rezero">
											<input type="number" class="form-control" id="x-data-zero" aria-label="Zero point for x-data." value="0" data-axis="x" />
											<label for="x-data-zero">Zero-point</label>
										</div>
										<div class="form-check mb-2 data-absval">
											<input class="form-check-input" type="checkbox" value="" id="x-absval" data-axis="x" />
											<label class="form-check-label" for="x-absval">
												Absolute Value
											</label>
										</div>
										<div class="form-check mb-2 data-normalize">
											<input class="form-check-input" type="checkbox" value="" id="x-normalize" data-axis="x" />
											<label class="form-check-label" for="x-normalize">
												Normalize
											</label>
										</div>
									</div>
								</div>
							</form>
							<form id="x-axis-controls">
								<div class="row">
									<div class="col-md-4 axis-rescale">
										<h3>Axis Scale</h3>
										<div class="form-check">
											<input class="form-check-input" type="radio" name="x-scale" id="x-scale-linear" data-scale="x" data-scale-type="linear" checked />
											<label class="form-check-label" for="x-scale-linear">
												Linear
											</label>
										</div>
										<div class="form-check">
											<input class="form-check-input" type="radio" name="x-scale" id="x-scale-log" data-scale="x" data-scale-type="log" />
											<label class="form-check-label" for="x-scale-log">
												Logarithmic
											</label>
										</div>
									</div>
									<div class="col-md-8 limits">
										<h3>Axis Limits</h3>
										<div class="row">
											<div class="col">
												<div class="form-floating">
													<input type="number" class="form-control" id="x-axis-left" data-axis="x" data-lim="min" aria-label="Left limit for x-axis" />
													<label for="x-axis-left">Left Limit</label>
												</div>
											</div>
											<div class="col">
												<div class="form-floating">
													<input type="number" class="form-control" id="x-axis-right" data-axis="x" data-lim="max" aria-label="Right limit for x-axis" />
													<label for="x-axis-right">Right Limit</label>
												</div>
											</div>
										</div>
									</div>
								</div>
							</form>
						</div>
					</div>
					<div id="y" class="my-4">
						<h2>
							Ordinate <small class="text-muted ">(Left <var>y</var>-axis)</small>
						</h2>
						<div class="border rounded p-3">
							<div class="row">
								<div class="col">
									<h3>Data Transformations</h3>
								</div>
							</div>
							<form id="y-data-controls">
								<div class="row mb-3">
									<div class="col-md-6">
										<fieldset>
											<div class="form-check mb-2 data-rescale">
												<input class="form-check-input" type="radio" name="y-data-trans" id="y-data-trans-linear" data-axis="y" value="linear" checked />
												<label class="form-check-label" for="y-data-trans-linear"> Linear: <var>y</var> </label>
											</div>
											<div class="form-check mb-2 data-rescale">
												<input class="form-check-input" type="radio" name="y-data-trans" id="y-data-trans-log" data-axis="y" value="log" />
												<label class="form-check-label" for="y-data-trans-log">
													Take log: log<sub>10</sub>(<var>y</var>)
												</label>
											</div>
											<div class="form-check mb-2 data-rescale">
												<input class="form-check-input" type="radio" name="y-data-trans" id="y-data-trans-logabs" data-axis="y" value="logabs" />
												<label class="form-check-label" for="y-data-trans-logabs">
													Take log of |<var>y</var>|: log<sub>10</sub>(|<var>y</var>|)
												</label>
											</div>
											<div class="form-check mb-2 data-rescale">
												<input class="form-check-input" type="radio" name="y-data-trans" id="y-data-trans-exp" data-axis="y" value="exp" />
												<label class="form-check-label" for="y-data-trans-exp">
													Exponentiate: 10<sup><var>y</var></sup>
												</label>
											</div>
										</fieldset>
									</div>
									<div class="col-md-6">
										<div class="form-floating mb-2 data-rezero">
											<input type="number" class="form-control" id="y-data-zero" aria-label="Zero point for y-data." value="0" data-axis="y" />
											<label for="y-data-zero">Zero-point</label>
										</div>
										<div class="form-check mb-2 data-absval">
											<input class="form-check-input" type="checkbox" value="" id="y-absval" data-axis="y" />
											<label class="form-check-label" for="y-absval">
												Absolute Value
											</label>
										</div>
										<div class="form-check mb-2 data-normalize">
											<input class="form-check-input" type="checkbox" value="" id="y-normalize" data-axis="y" />
											<label class="form-check-label" for="y-normalize">
												Normalize
											</label>
										</div>
									</div>
								</div>
							</form>
							<form id="y-axis-controls">
								<div class="row">
									<div class="col-md-4 axis-rescale">
										<h3>Axis Scale</h3>
										<div class="form-check">
											<input class="form-check-input" type="radio" name="y-scale" id="y-scale-linear" data-scale="y" data-scale-type="linear" checked />
											<label class="form-check-label" for="y-scale-linear">
												Linear
											</label>
										</div>
										<div class="form-check">
											<input class="form-check-input" type="radio" name="y-scale" id="y-scale-log" data-scale="y" data-scale-type="log" />
											<label class="form-check-label" for="y-scale-log">
												Logarithmic
											</label>
										</div>
									</div>
									<div class="col-md-8 limits">
										<h3>Axis Limits</h3>
										<div class="row">
											<div class="col">
												<div class="form-floating">
													<input type="number" class="form-control" id="y-axis-bottom" data-axis="y" data-lim="min" aria-label="Bottom limit for y-axis" />
													<label for="y-axis-bottom">Bottom Limit</label>
												</div>
											</div>
											<div class="col">
												<div class="form-floating">
													<input type="number" class="form-control" id="y-axis-top" data-axis="y" data-lim="max" aria-label="Top limit for y-axis" />
													<label for="y-axis-top">Top Limit</label>
												</div>
											</div>
										</div>
									</div>
								</div>
							</form>
						</div>
					</div>
					<div id="yOther" class="my-4">
						<h2>
							Other Ordinate <small class="text-muted ">(Right <var>y</var>-axis)</small>
						</h2>
						<div class="border rounded p-3">
							<div class="row">
								<div class="col">
									<h3>Data Transformations</h3>
								</div>
							</div>
							<form id="yOther-data-controls">
								<div class="row mb-3">
									<div class="col-md-6">
										<fieldset>
											<div class="form-check mb-2 data-rescale">
												<input class="form-check-input" type="radio" name="yOther-data-trans" id="yOther-data-trans-linear" data-axis="yOther" value="linear" checked />
												<label class="form-check-label" for="yOther-data-trans-linear"> Linear: <var>y</var> </label>
											</div>
											<div class="form-check mb-2 data-rescale">
												<input class="form-check-input" type="radio" name="yOther-data-trans" id="yOther-data-trans-log" data-axis="yOther" value="log" />
												<label class="form-check-label" for="yOther-data-trans-log">
													Take log: log<sub>10</sub>(<var>y</var>)
												</label>
											</div>
											<div class="form-check mb-2 data-rescale">
												<input class="form-check-input" type="radio" name="yOther-data-trans" id="yOther-data-trans-logabs" data-axis="yOther" value="logabs" />
												<label class="form-check-label" for="yOther-data-trans-logabs">
													Take log of |<var>y</var>|: log<sub>10</sub>(|<var>y</var>|)
												</label>
											</div>
											<div class="form-check mb-2 data-rescale">
												<input class="form-check-input" type="radio" name="yOther-data-trans" id="yOther-data-trans-exp" data-axis="yOther" value="exp" />
												<label class="form-check-label" for="yOther-data-trans-exp">
													Exponentiate: 10<sup><var>y</var></sup>
												</label>
											</div>
										</fieldset>
									</div>
									<div class="col-md-6">
										<div class="form-floating mb-2 data-rezero">
											<input type="number" class="form-control" id="yOther-data-zero" aria-label="Zero point for other y-data." value="0" data-axis="yOther" />
											<label for="yOther-data-zero">Zero-point</label>
										</div>
										<div class="form-check mb-2 data-absval">
											<input class="form-check-input" type="checkbox" value="" id="yOther-absval" data-axis="yOther" />
											<label class="form-check-label" for="yOther-absval">
												Absolute Value
											</label>
										</div>
										<div class="form-check mb-2 data-normalize">
											<input class="form-check-input" type="checkbox" value="" id="yOther-normalize" data-axis="yOther" />
											<label class="form-check-label" for="yOther-normalize">
												Normalize
											</label>
										</div>
									</div>
								</div>
							</form>
							<form id="yOther-axis-controls">
								<div class="row">
									<div class="col-md-4 axis-rescale">
										<h3>Axis Scale</h3>
										<div class="form-check">
											<input class="form-check-input" type="radio" name="yOther-scale" id="yOther-scale-linear" data-scale="yOther" data-scale-type="linear" checked />
											<label class="form-check-label" for="yOther-scale-linear">
												Linear
											</label>
										</div>
										<div class="form-check">
											<input class="form-check-input" type="radio" name="yOther-scale" id="yOther-scale-log" data-scale="yOther" data-scale-type="log" />
											<label class="form-check-label" for="yOther-scale-log">
												Logarithmic
											</label>
										</div>
									</div>
									<div class="col-md-8 limits">
										<h3>Axis Limits</h3>
										<div class="row">
											<div class="col">
												<div class="form-floating">
													<input type="number" class="form-control" id="yOther-axis-bottom" data-axis="yOther" data-lim="min" aria-label="Bottom limit for y-axis" />
													<label for="y-axis-bottom">Bottom Limit</label>
												</div>
											</div>
											<div class="col">
												<div class="form-floating">
													<input type="number" class="form-control" id="yOther-axis-top" data-axis="yOther" data-lim="max" aria-label="Top limit for y-axis" />
													<label for="yOther-axis-top">Top Limit</label>
												</div>
											</div>
										</div>
									</div>
								</div>
							</form>
						</div>
					</div>
				</div>
			</div>
		</div>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
		<script src="https://d3js.org/d3.v7.min.js"></script>
		<!-- Development -->
		<script src="/js/mesa-explorer.js"></script>
		<!-- Production -->
		<script src="/mesa-explorer/js/mesa-explorer.js"></script>
	</body>
</html>
